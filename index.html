<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ä½›å·æ—…è¡Œè¡Œç¨‹ï¼ˆ7â€“14ï¼‰</title>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- Tailwind CDNï¼ˆä½ åŸæœ¬å°±æœ‰ï¼‰ -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-900 text-slate-100">

<!-- ================= HEADER ================= -->
<header class="sticky top-0 z-50 bg-slate-900/90 backdrop-blur border-b border-slate-700">
  <div class="max-w-5xl mx-auto px-4 py-3 flex justify-between items-center">
    <div>
      <h1 class="text-lg font-bold">Florida Trip 3/7â€“3/14</h1>
      <p class="text-xs text-indigo-300 italic">SAT â†’ MIA â†’ ORL â†’ SAT</p>
    </div>
  </div>
</header>

<!-- ================= MAIN ================= -->
<main class="max-w-5xl mx-auto px-4 py-6 space-y-8">

<!-- ================= DAY TEMPLATE ================= -->
<section class="bg-slate-800 rounded-xl p-4">
  <button onclick="toggleDay(this)" class="w-full flex justify-between items-center">
    <h2 class="font-semibold text-lg">Day 1ï½œ3/07ï¼ˆå…­ï¼‰æŠµé”é‚é˜¿å¯†</h2>
    <i class="fa-solid fa-chevron-down"></i>
  </button>

  <div class="mt-4 space-y-4 hidden">

    <!-- Reminder -->
    <div class="bg-red-900/40 border-l-4 border-red-400 p-3 rounded">
      âš ï¸ æŠµé”å¾Œå…ˆå–è»Šï¼Œé‚é˜¿å¯†åœè»Šè²»åé«˜
    </div>

    <!-- Stop -->
    <div class="border border-slate-700 rounded-lg p-3">
      <p class="text-sm text-indigo-300">15:00â€“16:00</p>
      <h3 class="font-semibold">Miami International Airport (MIA)</h3>
      <p class="text-sm">ğŸ“ 2100 NW 42nd Ave, Miami, FL</p>
      <div class="flex gap-4 text-sm mt-2">
        <a href="https://maps.google.com/?q=Miami+International+Airport" target="_blank" class="text-indigo-400">ğŸ§­ é–‹å•Ÿåœ°åœ–</a>
        <span>â˜ï¸ +1 305-876-7000</span>
      </div>
    </div>

    <!-- Travel -->
    <div class="text-center text-sm text-slate-400">ğŸš— ç´„ 30 åˆ†é˜</div>

    <!-- Stop -->
    <div class="border border-slate-700 rounded-lg p-3">
      <p class="text-sm text-indigo-300">17:00â€“19:30</p>
      <h3 class="font-semibold">South Beach å—æµ·ç˜</h3>
      <p class="text-sm">ğŸ“ Ocean Dr, Miami Beach</p>
      <a href="https://maps.google.com/?q=South+Beach+Miami" target="_blank" class="text-indigo-400 text-sm">ğŸ§­ é–‹å•Ÿåœ°åœ–</a>
    </div>

  </div>
</section>

<!-- ================= EXPENSES ================= -->
<section class="bg-slate-800 rounded-xl p-4">
  <h2 class="font-semibold text-lg mb-4">ğŸ’° å¤šäººåˆ†å¸³</h2>

  <!-- People -->
  <div class="flex gap-2 mb-4">
    <input id="personName" class="bg-slate-700 p-2 rounded text-sm" placeholder="æ–°å¢æˆå“¡"/>
    <button onclick="addPerson()" class="bg-indigo-600 px-3 rounded">æ–°å¢</button>
  </div>

  <ul id="peopleList" class="text-sm mb-6 space-y-1"></ul>

  <!-- Add Expense -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-2 mb-4">
    <input id="expenseTitle" placeholder="é …ç›®" class="bg-slate-700 p-2 rounded text-sm"/>
    <input id="expenseAmount" placeholder="é‡‘é¡" type="number" class="bg-slate-700 p-2 rounded text-sm"/>
    <select id="expensePayer" class="bg-slate-700 p-2 rounded text-sm"></select>
    <button onclick="addExpense()" class="bg-green-600 rounded">æ–°å¢æ”¯å‡º</button>
  </div>

  <!-- Expense List -->
  <ul id="expenseList" class="text-sm space-y-2 mb-6"></ul>

  <!-- Settlement -->
  <div class="bg-slate-700 p-3 rounded text-sm">
    <h3 class="font-semibold mb-2">ğŸ“Š çµç®—çµæœ</h3>
    <ul id="settlement"></ul>
  </div>
</section>

<p class="text-xs text-slate-400 text-right">Last updated: 2026-02-10</p>

</main>

<!-- ================= SCRIPT ================= -->
<script>
/* -------- Day toggle -------- */
function toggleDay(btn) {
  const content = btn.nextElementSibling;
  content.classList.toggle("hidden");
  btn.querySelector("i").classList.toggle("fa-chevron-down");
  btn.querySelector("i").classList.toggle("fa-chevron-up");
}

/* -------- Expenses (Multi-person) -------- */
const people = [];
const expenses = [];

function addPerson() {
  const name = document.getElementById("personName").value.trim();
  if (!name) return;
  people.push(name);
  document.getElementById("personName").value = "";
  renderPeople();
  renderPayerOptions();
}

function renderPeople() {
  const ul = document.getElementById("peopleList");
  ul.innerHTML = people.map(p => `<li>ğŸ‘¤ ${p}</li>`).join("");
}

function renderPayerOptions() {
  const sel = document.getElementById("expensePayer");
  sel.innerHTML = people.map(p => `<option value="${p}">${p}</option>`).join("");
}

function addExpense() {
  const title = expenseTitle.value;
  const amount = parseFloat(expenseAmount.value);
  const payer = expensePayer.value;
  if (!title || !amount || !payer) return;

  expenses.push({ title, amount, payer });
  expenseTitle.value = "";
  expenseAmount.value = "";
  renderExpenses();
  calculateSettlement();
}

function renderExpenses() {
  const ul = document.getElementById("expenseList");
  ul.innerHTML = expenses.map(e =>
    `<li>ğŸ’¸ ${e.title} â€” $${e.amount}ï¼ˆ${e.payer} ä»˜ï¼‰</li>`
  ).join("");
}

function calculateSettlement() {
  const total = expenses.reduce((s, e) => s + e.amount, 0);
  const perPerson = total / people.length;

  const paid = {};
  people.forEach(p => paid[p] = 0);
  expenses.forEach(e => paid[e.payer] += e.amount);

  const ul = document.getElementById("settlement");
  ul.innerHTML = "";

  people.forEach(p => {
    const diff = paid[p] - perPerson;
    if (diff > 0) {
      ul.innerHTML += `<li>${p} æ‡‰æ”¶ $${diff.toFixed(2)}</li>`;
    } else if (diff < 0) {
      ul.innerHTML += `<li>${p} æ‡‰ä»˜ $${(-diff).toFixed(2)}</li>`;
    }
  });
}
</script>

</body>
</html>
